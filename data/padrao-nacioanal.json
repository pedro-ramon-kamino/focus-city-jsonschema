{
    "data": {
        "allow_crawlers": "enabled",
        "appearance": {
            "icon": {
                "name": null,
                "type": null
            }
        },
        "category": {
            "uri": "/branches/2.0/categories/reference/Documentos Fiscais"
        },
        "content": {
            "body": null,
            "excerpt": "Quando uma NFS-e é enviada para processamento, é realizada uma pré-validação, caso ocorra algum problema como: ausência de campos essenciais, formato de dados incorreto ou problemas com o cadastro do prestador em nossa base, a nota não será aceita e você receberá uma mensagem de erro de forma **síncrona**.\n\nCaso a nota seja aceita para processamento, ela será enviada para uma fila e será processada de forma **assíncrona**. Com isto, a nota poderá ser autorizada ou retornar um erro, de acordo com a validação do ambiente nacional.\n\nPara verificar se a nota já foi autorizada, você terá que efetuar uma [consulta](https://focus-nfe.readme.io/reference/consultarnfseporreferencia#/) ou se utilizar de webhooks (gatilhos).\n\nAbaixo você poderá verificar uma listagem dos principais campos disponíveis. Para verificar a listagem completa de campos veja o link a seguir.\n\n[Documentação completa dos campos da NFS-e nacional](https://campos.focusnfe.com.br/nfse_nacional/EmissaoDPSXml.html)\n",
            "link": {
                "url": null,
                "new_tab": false
            },
            "next": {
                "description": null,
                "pages": []
            }
        },
        "metadata": {
            "description": null,
            "image": {
                "uri": null,
                "url": null
            },
            "keywords": null,
            "title": null
        },
        "parent": {
            "uri": "/branches/2.0/reference/nfse-nacional"
        },
        "privacy": {
            "view": "public"
        },
        "slug": "enviardpsnacional",
        "state": "current",
        "title": "Enviar",
        "type": "endpoint",
        "api_config": null,
        "api": {
            "method": "post",
            "path": "/nfsen",
            "schema": {
                "openapi": "3.0.3",
                "info": {
                    "title": "NFSe Nacional - Nota Fiscal de Serviço Padrão Nacional",
                    "description": "Por meio desta API é possível realizar operações com o webservice da NFS-e nacional. Para emissão de NFS-e no padrão específico de um município, consulte a [API específica](https://focus-nfe.readme.io/reference/nfse#/) deste documento fiscal.\n\nAs operações disponíveis são:\n\n* Emitir NFS-e\n* Cancelar NFS-e\n* Consultar NFS-es emitidas\n* Solicitar reenvio de notificação de NFSe Nacional\n",
                    "version": "2.0.0",
                    "contact": {
                        "name": "Focus NFe Suporte",
                        "email": "suporte@focusnfe.com.br"
                    },
                    "license": {
                        "name": "Proprietary",
                        "url": "https://focusnfe.com.br"
                    }
                },
                "servers": [
                    {
                        "url": "https://api.focusnfe.com.br/v2",
                        "description": "Servidor de Produção"
                    },
                    {
                        "url": "https://homologacao.focusnfe.com.br/v2",
                        "description": "Servidor de Homologação"
                    }
                ],
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "tags": [
                    {
                        "name": "NFSe Nacional",
                        "description": "Operações relacionadas a Notas Fiscais de Serviços Eletrônicas (NFSe) no Padrão Nacional"
                    }
                ],
                "paths": {
                    "/nfsen": {
                        "post": {
                            "tags": [
                                "NFSe Nacional"
                            ],
                            "summary": "Enviar",
                            "description": "Quando uma NFS-e é enviada para processamento, é realizada uma pré-validação, caso ocorra algum problema como: ausência de campos essenciais, formato de dados incorreto ou problemas com o cadastro do prestador em nossa base, a nota não será aceita e você receberá uma mensagem de erro de forma **síncrona**.\n\nCaso a nota seja aceita para processamento, ela será enviada para uma fila e será processada de forma **assíncrona**. Com isto, a nota poderá ser autorizada ou retornar um erro, de acordo com a validação do ambiente nacional.\n\nPara verificar se a nota já foi autorizada, você terá que efetuar uma [consulta](https://focus-nfe.readme.io/reference/consultarnfseporreferencia#/) ou se utilizar de webhooks (gatilhos).\n\nAbaixo você poderá verificar uma listagem dos principais campos disponíveis. Para verificar a listagem completa de campos veja o link a seguir.\n\n[Documentação completa dos campos da NFS-e nacional](https://campos.focusnfe.com.br/nfse_nacional/EmissaoDPSXml.html)\n",
                            "operationId": "enviarDPSNacional",
                            "parameters": [
                                {
                                    "name": "ref",
                                    "in": "query",
                                    "required": true,
                                    "description": "Referência única para o DPS/NFSe",
                                    "schema": {
                                        "type": "string",
                                        "example": "ref_dps_001"
                                    }
                                }
                            ],
                            "requestBody": {
                                "required": true,
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "title": "Campos de envio",
                                            "type": "object",
                                            "properties": {
                                                "data_emissao": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "description": "Data e hora da emissão da DPS."
                                                },
                                                "serie_dps": {
                                                    "type": "integer",
                                                    "description": "Série da DPS."
                                                },
                                                "numero_dps": {
                                                    "type": "integer",
                                                    "description": "Número da DPS."
                                                },
                                                "data_competencia": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "description": "Data de competência da prestação do serviço."
                                                },
                                                "emitente_dps": {
                                                    "type": "string",
                                                    "description": "Emitente da DPS."
                                                },
                                                "codigo_municipio_emissora": {
                                                    "type": "integer",
                                                    "description": "Código IBGE de 7 dígitos da localidade emissora da NFS-e."
                                                },
                                                "cnpj_prestador": {
                                                    "type": "string",
                                                    "description": "Número da inscrição federal (CNPJ) do prestador do serviço."
                                                },
                                                "nif_prestador": {
                                                    "type": "string",
                                                    "description": "Número de Identificação Fiscal fornecido por órgão de administração tributária no exterior."
                                                },
                                                "codigo_opcao_simples_nacional": {
                                                    "type": "string",
                                                    "description": "Situação perante Simples Nacional."
                                                },
                                                "regime_especial_tributacao": {
                                                    "type": "string",
                                                    "description": "Regime Especial de Tributação Municipal."
                                                },
                                                "cnpj_tomador": {
                                                    "type": "string",
                                                    "description": "Número da inscrição federal (CNPJ) do tomador do serviço."
                                                },
                                                "cpf_tomador": {
                                                    "type": "string",
                                                    "description": "Número da inscrição federal (CPF) do tomador do serviço."
                                                },
                                                "nif_tomador": {
                                                    "type": "string",
                                                    "description": "Número de Identificação Fiscal fornecido por órgão de administração tributária no exterior."
                                                },
                                                "motivo_ausencia_nif_tomador": {
                                                    "type": "string",
                                                    "description": "Motivo para não informação do NIF."
                                                },
                                                "codigo_municipio_prestacao": {
                                                    "type": "string",
                                                    "description": "Código IBGE de 7 dígitos da localidade da prestação do serviço."
                                                },
                                                "codigo_tributacao_nacional_iss": {
                                                    "type": "string",
                                                    "description": "Código de tributação nacional do ISSQN."
                                                },
                                                "descricao_servico": {
                                                    "type": "string",
                                                    "description": "Descrição completa do serviço prestado."
                                                },
                                                "valor_servico": {
                                                    "type": "number",
                                                    "description": "Valor monetário do serviço (R$)."
                                                },
                                                "tributacao_iss": {
                                                    "type": "number",
                                                    "description": "Tributação do ISSQN sobre o serviço prestado."
                                                }
                                            },
                                            "x-readme-ref-name": "NFSeNacionalRequest"
                                        },
                                        "examples": {
                                            "NFSe Nacional": {
                                                "value": {
                                                    "data_emissao": "2025-01-01T07:30:00-0300",
                                                    "serie_dps": 1,
                                                    "numero_dps": 1,
                                                    "data_competencia": "2025-01-01",
                                                    "emitente_dps": 1,
                                                    "codigo_municipio_emissora": 4106902,
                                                    "cnpj_prestador": "18765499000199",
                                                    "nif_prestador": "123456789",
                                                    "codigo_opcao_simples_nacional": 1,
                                                    "regime_especial_tributacao": 0,
                                                    "cnpj_tomador": "07504505000132",
                                                    "cpf_tomador": "07504505000132",
                                                    "nif_tomador": "1234567890",
                                                    "codigo_municipio_prestacao": 4106902,
                                                    "codigo_tributacao_nacional_iss": "010701",
                                                    "descricao_servico": "Nota emitida em caráter de TESTE",
                                                    "valor_servico": 1,
                                                    "tributacao_iss": 1
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "responses": {
                                "202": {
                                    "description": "Requisição aceita para processamento",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "title": "Processando autorização",
                                                "type": "object",
                                                "properties": {
                                                    "status": {
                                                        "type": "string",
                                                        "description": "Status do processamento.",
                                                        "example": "processando_autorizacao"
                                                    },
                                                    "ref": {
                                                        "type": "string",
                                                        "description": "Referência do DPS."
                                                    },
                                                    "protocolo": {
                                                        "type": "string",
                                                        "description": "Protocolo de recebimento do DPS."
                                                    }
                                                },
                                                "x-readme-ref-name": "ProcessandoAutorizacaoResponse"
                                            },
                                            "examples": {
                                                "Processando autorização": {
                                                    "value": {
                                                        "cnpj_prestador": "12345678000123",
                                                        "ref": "123456",
                                                        "status": "processando_autorizacao"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "400": {
                                    "description": "Requisição inválida",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "title": "Erro",
                                                "type": "object",
                                                "properties": {
                                                    "codigo": {
                                                        "type": "string",
                                                        "description": "Código do erro"
                                                    },
                                                    "mensagem": {
                                                        "type": "string",
                                                        "description": "Mensagem descritiva do erro"
                                                    }
                                                },
                                                "x-readme-ref-name": "ErrorResponse"
                                            },
                                            "examples": {
                                                "Requisição inválida": {
                                                    "value": {
                                                        "codigo": "requisicao_invalida",
                                                        "mensagem": "O campo dfe.prestador.cpf_cnpj é obrigatório."
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "401": {
                                    "description": "Não autorizado",
                                    "content": {
                                        "text/html": {
                                            "schema": {
                                                "type": "string",
                                                "example": "HTTP Basic: Access denied"
                                            }
                                        }
                                    }
                                },
                                "422": {
                                    "description": "O servidor entendeu a requisição, mas os dados são inválidos ou não podem ser processados",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "title": "Erro",
                                                "type": "object",
                                                "properties": {
                                                    "codigo": {
                                                        "type": "string",
                                                        "description": "Código do erro"
                                                    },
                                                    "mensagem": {
                                                        "type": "string",
                                                        "description": "Mensagem descritiva do erro"
                                                    }
                                                },
                                                "x-readme-ref-name": "ErrorResponse"
                                            },
                                            "examples": {
                                                "Erro validação": {
                                                    "value": {
                                                        "codigo": "erro_validacao",
                                                        "mensagem": "Já existe um DPS com esta referência."
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "/nfsen/{referencia}": {
                        "get": {
                            "tags": [
                                "NFSe Nacional"
                            ],
                            "summary": "Consultar",
                            "description": "Após enviar uma nota, você poderá usar a operação de consulta para verificar se a nota está em processamento ou se já foi processada.\n\nComo retorno você receberá os campos descritos nos exemplos abaixo, de acordo com o status da nota.\n",
                            "operationId": "consultarNFSeNacionalPorReferencia",
                            "parameters": [
                                {
                                    "name": "referencia",
                                    "in": "path",
                                    "required": true,
                                    "description": "Referência do DPS/NFSe",
                                    "schema": {
                                        "type": "string"
                                    }
                                }
                            ],
                            "responses": {
                                "200": {
                                    "description": "Requisição processada com sucesso",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "oneOf": [
                                                    {
                                                        "title": "Processando autorização",
                                                        "type": "object",
                                                        "properties": {
                                                            "status": {
                                                                "type": "string",
                                                                "description": "Status do processamento.",
                                                                "example": "processando_autorizacao"
                                                            },
                                                            "ref": {
                                                                "type": "string",
                                                                "description": "Referência do DPS."
                                                            },
                                                            "protocolo": {
                                                                "type": "string",
                                                                "description": "Protocolo de recebimento do DPS."
                                                            }
                                                        },
                                                        "x-readme-ref-name": "ProcessandoAutorizacaoResponse"
                                                    },
                                                    {
                                                        "title": "Autorizada",
                                                        "type": "object",
                                                        "properties": {
                                                            "status": {
                                                                "type": "string",
                                                                "description": "Status atual da NFSe.",
                                                                "enum": [
                                                                    "autorizado",
                                                                    "negado",
                                                                    "cancelado",
                                                                    "erro_autorizacao"
                                                                ]
                                                            },
                                                            "cnpj_prestador": {
                                                                "type": "string",
                                                                "description": "O CNPJ emitente da nota fiscal ."
                                                            },
                                                            "ref": {
                                                                "type": "string",
                                                                "description": "Referência da NFSe Nacional."
                                                            },
                                                            "numero_rps": {
                                                                "type": "string",
                                                                "description": "Número do RPS de controle do Ambiente Nacional."
                                                            },
                                                            "serie_rps": {
                                                                "type": "string",
                                                                "description": "A série do RPS de controle do Ambiente Nacional."
                                                            },
                                                            "tipo_rps": {
                                                                "type": "string",
                                                                "description": "O tipo do RPS."
                                                            },
                                                            "numero": {
                                                                "type": "string",
                                                                "description": "Número da NFSe Nacional."
                                                            },
                                                            "codigo_verificacao": {
                                                                "type": "string",
                                                                "description": "Código de verificação para consulta da NFSe Nacional, pode ser usado no portal do Ambiente Nacional para consulta."
                                                            },
                                                            "data_emissao": {
                                                                "type": "string",
                                                                "description": "Data da emissão da nota fiscal."
                                                            },
                                                            "url": {
                                                                "type": "string",
                                                                "format": "uri",
                                                                "description": "URL para a consulta da nota fiscal no portal do Ambiente Nacional."
                                                            },
                                                            "url_danfse": {
                                                                "type": "string",
                                                                "format": "uri",
                                                                "description": "URL para acesso e download do DANFSe (versão PDF)."
                                                            },
                                                            "caminho_xml_nota_fiscal": {
                                                                "type": "string",
                                                                "description": "Caminho para acesso e download do XML da nota fiscal."
                                                            }
                                                        },
                                                        "x-readme-ref-name": "AutorizadaResponse"
                                                    },
                                                    {
                                                        "title": "Cancelada",
                                                        "type": "object",
                                                        "properties": {
                                                            "status": {
                                                                "type": "string",
                                                                "description": "Status atual da NFSe.",
                                                                "enum": [
                                                                    "cancelado"
                                                                ]
                                                            },
                                                            "cnpj_prestador": {
                                                                "type": "string",
                                                                "description": "O CNPJ emitente da nota fiscal ."
                                                            },
                                                            "ref": {
                                                                "type": "string",
                                                                "description": "Referência da NFSe Nacional."
                                                            },
                                                            "numero_rps": {
                                                                "type": "string",
                                                                "description": "Número do RPS de controle do Ambiente Nacional."
                                                            },
                                                            "serie_rps": {
                                                                "type": "string",
                                                                "description": "A série do RPS de controle do Ambiente Nacional."
                                                            },
                                                            "tipo_rps": {
                                                                "type": "string",
                                                                "description": "O tipo do RPS."
                                                            },
                                                            "numero": {
                                                                "type": "string",
                                                                "description": "Número da NFSe Nacional."
                                                            },
                                                            "codigo_verificacao": {
                                                                "type": "string",
                                                                "description": "Código de verificação para consulta da NFSe Nacional, pode ser usado no portal do Ambiente Nacional para consulta."
                                                            },
                                                            "data_emissao": {
                                                                "type": "string",
                                                                "description": "Data da emissão da nota fiscal."
                                                            },
                                                            "url": {
                                                                "type": "string",
                                                                "format": "uri",
                                                                "description": "URL para a consulta da nota fiscal no portal do Ambiente Nacional."
                                                            },
                                                            "url_danfse": {
                                                                "type": "string",
                                                                "format": "uri",
                                                                "description": "URL para acesso e download do DANFSe (versão PDF)."
                                                            },
                                                            "caminho_xml_nota_fiscal": {
                                                                "type": "string",
                                                                "description": "Caminho para acesso e download do XML da nota fiscal."
                                                            }
                                                        },
                                                        "x-readme-ref-name": "CanceladaResponse"
                                                    },
                                                    {
                                                        "title": "Erro autorização",
                                                        "type": "object",
                                                        "properties": {
                                                            "status": {
                                                                "type": "string",
                                                                "description": "Status atual da NFSe.",
                                                                "enum": [
                                                                    "erro_autorizacao"
                                                                ]
                                                            },
                                                            "cnpj_prestador": {
                                                                "type": "string",
                                                                "description": "O CNPJ emitente da nota fiscal ."
                                                            },
                                                            "ref": {
                                                                "type": "string",
                                                                "description": "Referência da NFSe Nacional."
                                                            },
                                                            "numero_rps": {
                                                                "type": "string",
                                                                "description": "Número do RPS de controle do Ambiente Nacional."
                                                            },
                                                            "serie_rps": {
                                                                "type": "string",
                                                                "description": "A série do RPS de controle do Ambiente Nacional."
                                                            },
                                                            "tipo_rps": {
                                                                "type": "string",
                                                                "description": "O tipo do RPS."
                                                            },
                                                            "erros": {
                                                                "type": "array",
                                                                "items": {
                                                                    "title": "Lista de erros",
                                                                    "type": "object",
                                                                    "properties": {
                                                                        "codigo": {
                                                                            "type": "string",
                                                                            "description": "Código do erro"
                                                                        },
                                                                        "mensagem": {
                                                                            "type": "string",
                                                                            "description": "Mensagem do erro"
                                                                        },
                                                                        "correcao": {
                                                                            "type": "string",
                                                                            "description": "Correção do erro"
                                                                        }
                                                                    },
                                                                    "x-readme-ref-name": "ArrayErrorResponse"
                                                                }
                                                            }
                                                        },
                                                        "x-readme-ref-name": "ErroAutorizacaoResponse"
                                                    }
                                                ]
                                            },
                                            "examples": {
                                                "Processando autorização": {
                                                    "value": {
                                                        "cnpj_prestador": "12345678000123",
                                                        "ref": "123456",
                                                        "status": "processando_autorizacao"
                                                    }
                                                },
                                                "Autorizada": {
                                                    "value": {
                                                        "status": "autorizado",
                                                        "cnpj_prestador": "18765499000199",
                                                        "ref": "12345",
                                                        "numero_rps": 1,
                                                        "serie_rps": 1,
                                                        "tipo_rps": 1,
                                                        "numero": 1,
                                                        "codigo_verificacao": "12345678901234567890123456789012345678901234567890",
                                                        "data_emissao": "2025-01-01T07:30:00-03:00",
                                                        "url": "https://www.nfse.gov.br/consultapublica/?tpc=1&chave=12345678901234567890123456789012345678901234567890",
                                                        "url_danfse": "https://focusnfe.s3.sa-east-1.amazonaws.com/arquivos/18765499000199_166/202405/DANFSEs/NFSe187654990001994106902-14018919393-43-12345678901234567890123456789012345678901234567890.pdf"
                                                    }
                                                },
                                                "Cancelada": {
                                                    "value": {
                                                        "status": "autorizado",
                                                        "cnpj_prestador": "18765499000199",
                                                        "ref": "12345",
                                                        "numero_rps": 1,
                                                        "serie_rps": 1,
                                                        "tipo_rps": 1,
                                                        "numero": 1,
                                                        "codigo_verificacao": "12345678901234567890123456789012345678901234567890",
                                                        "data_emissao": "2025-01-01T07:30:00-03:00",
                                                        "url": "https://www.nfse.gov.br/consultapublica/?tpc=1&chave=12345678901234567890123456789012345678901234567890",
                                                        "url_danfse": "https://focusnfe.s3.sa-east-1.amazonaws.com/arquivos/18765499000199_166/202405/DANFSEs/NFSe187654990001994106902-14018919393-43-12345678901234567890123456789012345678901234567890.pdf",
                                                        "caminho_xml_nota_fiscal": "/arquivos/18765499000199_166/202405/XMLsNFSe/187654990001994106902-14018919393-43-12345678901234567890123456789012345678901234567890-nfse.xml"
                                                    }
                                                },
                                                "Erro autorização": {
                                                    "value": {
                                                        "status": "erro_autorizacao",
                                                        "cnpj_prestador": "18765499000199",
                                                        "ref": "12345",
                                                        "numero_rps": 1,
                                                        "serie_rps": 1,
                                                        "tipo_rps": 1,
                                                        "erros": [
                                                            {
                                                                "codigo": "E0014",
                                                                "mensagem": "Conjunto de Série, Número, Código do Município Emissor e CNPJ/CPF informado nesta DPS já existe em uma NFS-e gerada a partir de uma DPS enviada anteriormente."
                                                            }
                                                        ]
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "404": {
                                    "description": "Recurso não encontrado",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "title": "Erro",
                                                "type": "object",
                                                "properties": {
                                                    "codigo": {
                                                        "type": "string",
                                                        "description": "Código do erro"
                                                    },
                                                    "mensagem": {
                                                        "type": "string",
                                                        "description": "Mensagem descritiva do erro"
                                                    }
                                                },
                                                "x-readme-ref-name": "ErrorResponse"
                                            },
                                            "example": {
                                                "codigo": "nao_encontrado",
                                                "mensagem": "Nota fiscal não encontrada"
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "delete": {
                            "tags": [
                                "NFSe Nacional"
                            ],
                            "summary": "Cancelar",
                            "description": "Apenas notas com status \"autorizado\" podem ser canceladas. O cancelamento é definitivo e não pode ser desfeito.\n\nEste endpoint possui retorno **síncrono**. Como resposta você poderá receber os campos descritos abaixo. Os exemplos de resposta mostram os campos retornados de acordo com o status da nota.\n",
                            "operationId": "cancelarNFSeNacional",
                            "parameters": [
                                {
                                    "name": "referencia",
                                    "in": "path",
                                    "required": true,
                                    "description": "Referência da NFSe a ser cancelada",
                                    "schema": {
                                        "type": "string"
                                    }
                                }
                            ],
                            "requestBody": {
                                "required": false,
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "justificativa": {
                                                    "type": "string",
                                                    "description": "Justificativa do cancelamento (necessária se o código de cancelamento for 4)."
                                                }
                                            }
                                        },
                                        "example": {
                                            "justificativa": "Emissão em duplicidade"
                                        }
                                    }
                                }
                            },
                            "responses": {
                                "200": {
                                    "description": "Requisição processada com sucesso",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "oneOf": [
                                                    {
                                                        "title": "Cancelada",
                                                        "type": "object",
                                                        "properties": {
                                                            "status": {
                                                                "type": "string",
                                                                "description": "Status da NFSe",
                                                                "enum": [
                                                                    "cancelado"
                                                                ]
                                                            }
                                                        },
                                                        "x-readme-ref-name": "CancelamentoResponse"
                                                    },
                                                    {
                                                        "title": "Erro cancelamento",
                                                        "type": "object",
                                                        "properties": {
                                                            "status": {
                                                                "type": "string",
                                                                "description": "Status da NFSe",
                                                                "enum": [
                                                                    "erro_cancelamento"
                                                                ]
                                                            },
                                                            "erros": {
                                                                "type": "array",
                                                                "description": "Lista de erros",
                                                                "items": {
                                                                    "title": "Lista de erros",
                                                                    "type": "object",
                                                                    "properties": {
                                                                        "codigo": {
                                                                            "type": "string",
                                                                            "description": "Código do erro"
                                                                        },
                                                                        "mensagem": {
                                                                            "type": "string",
                                                                            "description": "Mensagem do erro"
                                                                        },
                                                                        "correcao": {
                                                                            "type": "string",
                                                                            "description": "Correção do erro"
                                                                        }
                                                                    },
                                                                    "x-readme-ref-name": "ArrayErrorResponse"
                                                                }
                                                            }
                                                        },
                                                        "x-readme-ref-name": "ErroCancelamentoResponse"
                                                    }
                                                ]
                                            },
                                            "examples": {
                                                "Cancelada": {
                                                    "value": {
                                                        "status": "cancelado"
                                                    }
                                                },
                                                "Erro cancelamento": {
                                                    "value": {
                                                        "status": "erro_cancelamento",
                                                        "erros": [
                                                            {
                                                                "codigo": "V999",
                                                                "mensagem": "NFSe fora do prazo de cancelamento permitido",
                                                                "correcao": null
                                                            }
                                                        ]
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "404": {
                                    "description": "Recurso não encontrado",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "title": "Erro",
                                                "type": "object",
                                                "properties": {
                                                    "codigo": {
                                                        "type": "string",
                                                        "description": "Código do erro"
                                                    },
                                                    "mensagem": {
                                                        "type": "string",
                                                        "description": "Mensagem descritiva do erro"
                                                    }
                                                },
                                                "x-readme-ref-name": "ErrorResponse"
                                            },
                                            "example": {
                                                "codigo": "nao_encontrado",
                                                "mensagem": "Nota fiscal não encontrada"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "/nfsen/{referencia}/hook": {
                        "post": {
                            "tags": [
                                "NFSe Nacional"
                            ],
                            "summary": "Solicitar reenvio de notificação",
                            "operationId": "reenviarHookNFSEN",
                            "parameters": [
                                {
                                    "name": "referencia",
                                    "in": "path",
                                    "required": true,
                                    "description": "Referência da NFSe Nacional",
                                    "schema": {
                                        "type": "string"
                                    }
                                }
                            ],
                            "responses": {
                                "200": {
                                    "description": "Lista de gatilhos acionados",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "array",
                                                "items": {
                                                    "title": "Gatilho",
                                                    "type": "object",
                                                    "properties": {
                                                        "id": {
                                                            "type": "string"
                                                        },
                                                        "url": {
                                                            "type": "string",
                                                            "format": "uri"
                                                        },
                                                        "authorization": {
                                                            "type": "string",
                                                            "nullable": true
                                                        },
                                                        "authorization_header": {
                                                            "type": "string",
                                                            "nullable": true
                                                        },
                                                        "event": {
                                                            "type": "string",
                                                            "description": "Evento monitorado",
                                                            "enum": [
                                                                "nfsen"
                                                            ]
                                                        },
                                                        "cnpj": {
                                                            "type": "string",
                                                            "description": "CNPJ vinculado ao gatilho"
                                                        },
                                                        "cpf": {
                                                            "type": "string",
                                                            "description": "CPF vinculado ao gatilho"
                                                        }
                                                    },
                                                    "example": {
                                                        "id": "Vj5rmkBq",
                                                        "url": "http://minha.url/nfe",
                                                        "authorization": null,
                                                        "authorization_header": null,
                                                        "event": "nfsen",
                                                        "cnpj": "12345678000123"
                                                    },
                                                    "x-readme-ref-name": "Hook"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "components": {
                    "securitySchemes": {
                        "ApiKeyAuth": {
                            "type": "http",
                            "scheme": "basic",
                            "description": "Token de acesso da API. O token deve ser enviado no campo usuário, sem senha."
                        }
                    },
                    "responses": {
                        "NaoEncontrada": {
                            "description": "Recurso não encontrado",
                            "content": {
                                "application/json": {
                                    "schema": {
                                        "title": "Erro",
                                        "type": "object",
                                        "properties": {
                                            "codigo": {
                                                "type": "string",
                                                "description": "Código do erro"
                                            },
                                            "mensagem": {
                                                "type": "string",
                                                "description": "Mensagem descritiva do erro"
                                            }
                                        },
                                        "x-readme-ref-name": "ErrorResponse"
                                    },
                                    "example": {
                                        "codigo": "nao_encontrado",
                                        "mensagem": "Nota fiscal não encontrada"
                                    }
                                }
                            }
                        },
                        "AccessDenied": {
                            "description": "Não autorizado",
                            "content": {
                                "text/html": {
                                    "schema": {
                                        "type": "string",
                                        "example": "HTTP Basic: Access denied"
                                    }
                                }
                            }
                        }
                    },
                    "schemas": {
                        "NFSeNacionalRequest": {
                            "title": "Campos de envio",
                            "type": "object",
                            "properties": {
                                "data_emissao": {
                                    "type": "string",
                                    "format": "date-time",
                                    "description": "Data e hora da emissão da DPS."
                                },
                                "serie_dps": {
                                    "type": "integer",
                                    "description": "Série da DPS."
                                },
                                "numero_dps": {
                                    "type": "integer",
                                    "description": "Número da DPS."
                                },
                                "data_competencia": {
                                    "type": "string",
                                    "format": "date",
                                    "description": "Data de competência da prestação do serviço."
                                },
                                "emitente_dps": {
                                    "type": "string",
                                    "description": "Emitente da DPS."
                                },
                                "codigo_municipio_emissora": {
                                    "type": "integer",
                                    "description": "Código IBGE de 7 dígitos da localidade emissora da NFS-e."
                                },
                                "cnpj_prestador": {
                                    "type": "string",
                                    "description": "Número da inscrição federal (CNPJ) do prestador do serviço."
                                },
                                "nif_prestador": {
                                    "type": "string",
                                    "description": "Número de Identificação Fiscal fornecido por órgão de administração tributária no exterior."
                                },
                                "codigo_opcao_simples_nacional": {
                                    "type": "string",
                                    "description": "Situação perante Simples Nacional."
                                },
                                "regime_especial_tributacao": {
                                    "type": "string",
                                    "description": "Regime Especial de Tributação Municipal."
                                },
                                "cnpj_tomador": {
                                    "type": "string",
                                    "description": "Número da inscrição federal (CNPJ) do tomador do serviço."
                                },
                                "cpf_tomador": {
                                    "type": "string",
                                    "description": "Número da inscrição federal (CPF) do tomador do serviço."
                                },
                                "nif_tomador": {
                                    "type": "string",
                                    "description": "Número de Identificação Fiscal fornecido por órgão de administração tributária no exterior."
                                },
                                "motivo_ausencia_nif_tomador": {
                                    "type": "string",
                                    "description": "Motivo para não informação do NIF."
                                },
                                "codigo_municipio_prestacao": {
                                    "type": "string",
                                    "description": "Código IBGE de 7 dígitos da localidade da prestação do serviço."
                                },
                                "codigo_tributacao_nacional_iss": {
                                    "type": "string",
                                    "description": "Código de tributação nacional do ISSQN."
                                },
                                "descricao_servico": {
                                    "type": "string",
                                    "description": "Descrição completa do serviço prestado."
                                },
                                "valor_servico": {
                                    "type": "number",
                                    "description": "Valor monetário do serviço (R$)."
                                },
                                "tributacao_iss": {
                                    "type": "number",
                                    "description": "Tributação do ISSQN sobre o serviço prestado."
                                }
                            },
                            "x-readme-ref-name": "NFSeNacionalRequest"
                        },
                        "ProcessandoAutorizacaoResponse": {
                            "title": "Processando autorização",
                            "type": "object",
                            "properties": {
                                "status": {
                                    "type": "string",
                                    "description": "Status do processamento.",
                                    "example": "processando_autorizacao"
                                },
                                "ref": {
                                    "type": "string",
                                    "description": "Referência do DPS."
                                },
                                "protocolo": {
                                    "type": "string",
                                    "description": "Protocolo de recebimento do DPS."
                                }
                            },
                            "x-readme-ref-name": "ProcessandoAutorizacaoResponse"
                        },
                        "AutorizadaResponse": {
                            "title": "Autorizada",
                            "type": "object",
                            "properties": {
                                "status": {
                                    "type": "string",
                                    "description": "Status atual da NFSe.",
                                    "enum": [
                                        "autorizado",
                                        "negado",
                                        "cancelado",
                                        "erro_autorizacao"
                                    ]
                                },
                                "cnpj_prestador": {
                                    "type": "string",
                                    "description": "O CNPJ emitente da nota fiscal ."
                                },
                                "ref": {
                                    "type": "string",
                                    "description": "Referência da NFSe Nacional."
                                },
                                "numero_rps": {
                                    "type": "string",
                                    "description": "Número do RPS de controle do Ambiente Nacional."
                                },
                                "serie_rps": {
                                    "type": "string",
                                    "description": "A série do RPS de controle do Ambiente Nacional."
                                },
                                "tipo_rps": {
                                    "type": "string",
                                    "description": "O tipo do RPS."
                                },
                                "numero": {
                                    "type": "string",
                                    "description": "Número da NFSe Nacional."
                                },
                                "codigo_verificacao": {
                                    "type": "string",
                                    "description": "Código de verificação para consulta da NFSe Nacional, pode ser usado no portal do Ambiente Nacional para consulta."
                                },
                                "data_emissao": {
                                    "type": "string",
                                    "description": "Data da emissão da nota fiscal."
                                },
                                "url": {
                                    "type": "string",
                                    "format": "uri",
                                    "description": "URL para a consulta da nota fiscal no portal do Ambiente Nacional."
                                },
                                "url_danfse": {
                                    "type": "string",
                                    "format": "uri",
                                    "description": "URL para acesso e download do DANFSe (versão PDF)."
                                },
                                "caminho_xml_nota_fiscal": {
                                    "type": "string",
                                    "description": "Caminho para acesso e download do XML da nota fiscal."
                                }
                            },
                            "x-readme-ref-name": "AutorizadaResponse"
                        },
                        "CanceladaResponse": {
                            "title": "Cancelada",
                            "type": "object",
                            "properties": {
                                "status": {
                                    "type": "string",
                                    "description": "Status atual da NFSe.",
                                    "enum": [
                                        "cancelado"
                                    ]
                                },
                                "cnpj_prestador": {
                                    "type": "string",
                                    "description": "O CNPJ emitente da nota fiscal ."
                                },
                                "ref": {
                                    "type": "string",
                                    "description": "Referência da NFSe Nacional."
                                },
                                "numero_rps": {
                                    "type": "string",
                                    "description": "Número do RPS de controle do Ambiente Nacional."
                                },
                                "serie_rps": {
                                    "type": "string",
                                    "description": "A série do RPS de controle do Ambiente Nacional."
                                },
                                "tipo_rps": {
                                    "type": "string",
                                    "description": "O tipo do RPS."
                                },
                                "numero": {
                                    "type": "string",
                                    "description": "Número da NFSe Nacional."
                                },
                                "codigo_verificacao": {
                                    "type": "string",
                                    "description": "Código de verificação para consulta da NFSe Nacional, pode ser usado no portal do Ambiente Nacional para consulta."
                                },
                                "data_emissao": {
                                    "type": "string",
                                    "description": "Data da emissão da nota fiscal."
                                },
                                "url": {
                                    "type": "string",
                                    "format": "uri",
                                    "description": "URL para a consulta da nota fiscal no portal do Ambiente Nacional."
                                },
                                "url_danfse": {
                                    "type": "string",
                                    "format": "uri",
                                    "description": "URL para acesso e download do DANFSe (versão PDF)."
                                },
                                "caminho_xml_nota_fiscal": {
                                    "type": "string",
                                    "description": "Caminho para acesso e download do XML da nota fiscal."
                                }
                            },
                            "x-readme-ref-name": "CanceladaResponse"
                        },
                        "ErroAutorizacaoResponse": {
                            "title": "Erro autorização",
                            "type": "object",
                            "properties": {
                                "status": {
                                    "type": "string",
                                    "description": "Status atual da NFSe.",
                                    "enum": [
                                        "erro_autorizacao"
                                    ]
                                },
                                "cnpj_prestador": {
                                    "type": "string",
                                    "description": "O CNPJ emitente da nota fiscal ."
                                },
                                "ref": {
                                    "type": "string",
                                    "description": "Referência da NFSe Nacional."
                                },
                                "numero_rps": {
                                    "type": "string",
                                    "description": "Número do RPS de controle do Ambiente Nacional."
                                },
                                "serie_rps": {
                                    "type": "string",
                                    "description": "A série do RPS de controle do Ambiente Nacional."
                                },
                                "tipo_rps": {
                                    "type": "string",
                                    "description": "O tipo do RPS."
                                },
                                "erros": {
                                    "type": "array",
                                    "items": {
                                        "title": "Lista de erros",
                                        "type": "object",
                                        "properties": {
                                            "codigo": {
                                                "type": "string",
                                                "description": "Código do erro"
                                            },
                                            "mensagem": {
                                                "type": "string",
                                                "description": "Mensagem do erro"
                                            },
                                            "correcao": {
                                                "type": "string",
                                                "description": "Correção do erro"
                                            }
                                        },
                                        "x-readme-ref-name": "ArrayErrorResponse"
                                    }
                                }
                            },
                            "x-readme-ref-name": "ErroAutorizacaoResponse"
                        },
                        "CancelamentoResponse": {
                            "title": "Cancelada",
                            "type": "object",
                            "properties": {
                                "status": {
                                    "type": "string",
                                    "description": "Status da NFSe",
                                    "enum": [
                                        "cancelado"
                                    ]
                                }
                            },
                            "x-readme-ref-name": "CancelamentoResponse"
                        },
                        "ErroCancelamentoResponse": {
                            "title": "Erro cancelamento",
                            "type": "object",
                            "properties": {
                                "status": {
                                    "type": "string",
                                    "description": "Status da NFSe",
                                    "enum": [
                                        "erro_cancelamento"
                                    ]
                                },
                                "erros": {
                                    "type": "array",
                                    "description": "Lista de erros",
                                    "items": {
                                        "title": "Lista de erros",
                                        "type": "object",
                                        "properties": {
                                            "codigo": {
                                                "type": "string",
                                                "description": "Código do erro"
                                            },
                                            "mensagem": {
                                                "type": "string",
                                                "description": "Mensagem do erro"
                                            },
                                            "correcao": {
                                                "type": "string",
                                                "description": "Correção do erro"
                                            }
                                        },
                                        "x-readme-ref-name": "ArrayErrorResponse"
                                    }
                                }
                            },
                            "x-readme-ref-name": "ErroCancelamentoResponse"
                        },
                        "ErrorResponse": {
                            "title": "Erro",
                            "type": "object",
                            "properties": {
                                "codigo": {
                                    "type": "string",
                                    "description": "Código do erro"
                                },
                                "mensagem": {
                                    "type": "string",
                                    "description": "Mensagem descritiva do erro"
                                }
                            },
                            "x-readme-ref-name": "ErrorResponse"
                        },
                        "ArrayErrorResponse": {
                            "title": "Lista de erros",
                            "type": "object",
                            "properties": {
                                "codigo": {
                                    "type": "string",
                                    "description": "Código do erro"
                                },
                                "mensagem": {
                                    "type": "string",
                                    "description": "Mensagem do erro"
                                },
                                "correcao": {
                                    "type": "string",
                                    "description": "Correção do erro"
                                }
                            },
                            "x-readme-ref-name": "ArrayErrorResponse"
                        },
                        "Hook": {
                            "title": "Gatilho",
                            "type": "object",
                            "properties": {
                                "id": {
                                    "type": "string"
                                },
                                "url": {
                                    "type": "string",
                                    "format": "uri"
                                },
                                "authorization": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "authorization_header": {
                                    "type": "string",
                                    "nullable": true
                                },
                                "event": {
                                    "type": "string",
                                    "description": "Evento monitorado",
                                    "enum": [
                                        "nfsen"
                                    ]
                                },
                                "cnpj": {
                                    "type": "string",
                                    "description": "CNPJ vinculado ao gatilho"
                                },
                                "cpf": {
                                    "type": "string",
                                    "description": "CPF vinculado ao gatilho"
                                }
                            },
                            "example": {
                                "id": "Vj5rmkBq",
                                "url": "http://minha.url/nfe",
                                "authorization": null,
                                "authorization_header": null,
                                "event": "nfsen",
                                "cnpj": "12345678000123"
                            },
                            "x-readme-ref-name": "Hook"
                        }
                    },
                    "examples": {
                        "ProcessandoAutorizacaoResponse": {
                            "value": {
                                "cnpj_prestador": "12345678000123",
                                "ref": "123456",
                                "status": "processando_autorizacao"
                            }
                        },
                        "NFSeNacionalRequest": {
                            "value": {
                                "data_emissao": "2025-01-01T07:30:00-0300",
                                "serie_dps": 1,
                                "numero_dps": 1,
                                "data_competencia": "2025-01-01",
                                "emitente_dps": 1,
                                "codigo_municipio_emissora": 4106902,
                                "cnpj_prestador": "18765499000199",
                                "nif_prestador": "123456789",
                                "codigo_opcao_simples_nacional": 1,
                                "regime_especial_tributacao": 0,
                                "cnpj_tomador": "07504505000132",
                                "cpf_tomador": "07504505000132",
                                "nif_tomador": "1234567890",
                                "codigo_municipio_prestacao": 4106902,
                                "codigo_tributacao_nacional_iss": "010701",
                                "descricao_servico": "Nota emitida em caráter de TESTE",
                                "valor_servico": 1,
                                "tributacao_iss": 1
                            }
                        },
                        "AutorizadaResponse": {
                            "value": {
                                "status": "autorizado",
                                "cnpj_prestador": "18765499000199",
                                "ref": "12345",
                                "numero_rps": 1,
                                "serie_rps": 1,
                                "tipo_rps": 1,
                                "numero": 1,
                                "codigo_verificacao": "12345678901234567890123456789012345678901234567890",
                                "data_emissao": "2025-01-01T07:30:00-03:00",
                                "url": "https://www.nfse.gov.br/consultapublica/?tpc=1&chave=12345678901234567890123456789012345678901234567890",
                                "url_danfse": "https://focusnfe.s3.sa-east-1.amazonaws.com/arquivos/18765499000199_166/202405/DANFSEs/NFSe187654990001994106902-14018919393-43-12345678901234567890123456789012345678901234567890.pdf"
                            }
                        },
                        "CanceladaResponse": {
                            "value": {
                                "status": "autorizado",
                                "cnpj_prestador": "18765499000199",
                                "ref": "12345",
                                "numero_rps": 1,
                                "serie_rps": 1,
                                "tipo_rps": 1,
                                "numero": 1,
                                "codigo_verificacao": "12345678901234567890123456789012345678901234567890",
                                "data_emissao": "2025-01-01T07:30:00-03:00",
                                "url": "https://www.nfse.gov.br/consultapublica/?tpc=1&chave=12345678901234567890123456789012345678901234567890",
                                "url_danfse": "https://focusnfe.s3.sa-east-1.amazonaws.com/arquivos/18765499000199_166/202405/DANFSEs/NFSe187654990001994106902-14018919393-43-12345678901234567890123456789012345678901234567890.pdf",
                                "caminho_xml_nota_fiscal": "/arquivos/18765499000199_166/202405/XMLsNFSe/187654990001994106902-14018919393-43-12345678901234567890123456789012345678901234567890-nfse.xml"
                            }
                        },
                        "ErroAutorizacaoResponse": {
                            "value": {
                                "status": "erro_autorizacao",
                                "cnpj_prestador": "18765499000199",
                                "ref": "12345",
                                "numero_rps": 1,
                                "serie_rps": 1,
                                "tipo_rps": 1,
                                "erros": [
                                    {
                                        "codigo": "E0014",
                                        "mensagem": "Conjunto de Série, Número, Código do Município Emissor e CNPJ/CPF informado nesta DPS já existe em uma NFS-e gerada a partir de uma DPS enviada anteriormente."
                                    }
                                ]
                            }
                        }
                    }
                }
            },
            "stats": {
                "additional_properties": true,
                "callbacks": true,
                "circular_references": true,
                "common_parameters": true,
                "discriminators": true,
                "links": true,
                "polymorphism": true,
                "references": true,
                "server_variables": true,
                "style": true,
                "webhooks": true,
                "xml_requests": true,
                "xml_responses": true,
                "xml_schemas": true
            },
            "source": "form",
            "uri": "/branches/2.0/apis/nfse_nacional.yaml",
            "validation": {
                "status": "valid",
                "reason": null
            }
        },
        "connections": {
            "recipes": []
        },
        "href": {
            "dash": "https://dash.readme.com/project/focus-nfe/v2.0/refs/enviardpsnacional",
            "hub": "https://doc.focusnfe.com.br/reference/enviardpsnacional",
            "github_url": null
        },
        "links": {
            "project": "/projects/me"
        },
        "project": {
            "name": "FocusNFe",
            "subdomain": "focus-nfe",
            "uri": "/projects/me"
        },
        "renderable": {
            "status": true
        },
        "updated_at": "2025-11-21T14:28:38.609Z",
        "uri": "/branches/2.0/reference/enviardpsnacional"
    }
}